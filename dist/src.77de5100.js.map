{"version":3,"sources":["index.ts"],"names":[],"mappings":"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","file":"src.77de5100.js","sourceRoot":"..\\src","sourcesContent":["const button = document.querySelector('#butonek');\r\nconst input: HTMLInputElement = document.querySelector(\r\n  '#location'\r\n) as HTMLInputElement;\r\nconst weatherContainer = document.querySelector('#weather_container');\r\nconst locationContainer = document.querySelector('#location_list');\r\n\r\nconst baseUrl = 'https://api.openweathermap.org/data/2.5';\r\nconst appId = '&appid=81e564bdda8adddbc2d805694d19cdac';\r\nconst unitsType = '&units=metric';\r\nconst lang = '&lang=pl';\r\nconst iconString = '';\r\nconst iconBaseUrl = 'http://openweathermap.org/img/wn/';\r\nconst iconUrlBack = '@2x.png';\r\n\r\ninput.value = 'lublin';\r\n\r\nbutton?.addEventListener('click', async () => {\r\n  if (locationContainer != null) {\r\n    locationContainer.innerHTML = '';\r\n  }\r\n\r\n  const location = input.value;\r\n  input.value = '';\r\n\r\n  if (location == null || location == '') {\r\n    alert('Pole nie może być puste');\r\n  } else {\r\n    const locationData = await searchLocation(location);\r\n    console.log('list', locationData);\r\n\r\n    locationData.list.forEach((element: any) => {\r\n      console.log('element', element);\r\n\r\n      const listItemId = element.id;\r\n      const listItemName = element.name;\r\n      const icon = element.weather[0].icon;\r\n\r\n      const locationButton = document.createElement('button');\r\n      locationButton.id = 'buttonId';\r\n      locationButton.innerHTML = element.name;\r\n      locationContainer?.append(locationButton);\r\n\r\n      locationButton.addEventListener('click', async () => {\r\n        if (weatherContainer != null) {\r\n          weatherContainer.innerHTML = '';\r\n        }\r\n\r\n        if (locationContainer != null) {\r\n          locationContainer.innerHTML = '';\r\n        }\r\n\r\n        console.log('pobieram pogode dla: ', listItemName);\r\n        const weatherData = await getWeatherDataFromId(listItemId);\r\n\r\n        if (weatherData.cod == '404') {\r\n          alert(`Nie znaleziono prognozy dla ${listItemName}`);\r\n        } else {\r\n          const locationElement = document.createElement('div');\r\n          locationElement.id = 'weather_elements';\r\n          weatherContainer?.append(locationElement);\r\n          appendWeatherData(locationElement, weatherData);\r\n\r\n          const locationElementIcon = document.createElement('div');\r\n          weatherContainer?.append(locationElementIcon);\r\n          appendIcon(locationElementIcon, icon);\r\n          console.log(icon);\r\n        }\r\n        console.log('weather', weatherData);\r\n      });\r\n    });\r\n  }\r\n});\r\n\r\nasync function getWeatherDataFromId(listItemId: string) {\r\n  const responseId = await fetch(\r\n    `${baseUrl}/weather?id=${listItemId}${unitsType}${appId}${lang}`\r\n  );\r\n  return responseId.json();\r\n}\r\n\r\nasync function getWeatherData(location: string) {\r\n  const response = await fetch(\r\n    `${baseUrl}/weather?q=${location}${unitsType}${appId}${lang}`\r\n  );\r\n  return response.json();\r\n}\r\n\r\nasync function searchLocation(location: string) {\r\n  const response = await fetch(\r\n    `${baseUrl}/find?q=${location}${unitsType}${appId}${lang}`\r\n  );\r\n  return response.json();\r\n}\r\n\r\nfunction appendIcon(div: HTMLDivElement, icon: string) {\r\n  const iconImg = document.createElement('img');\r\n\r\n  iconImg.src = `${iconBaseUrl}${icon}${iconUrlBack}`;\r\n  iconImg.width = 100;\r\n  iconImg.height = 100;\r\n  iconImg.alt = 'Weather Icon';\r\n\r\n  div.appendChild(iconImg);\r\n}\r\n\r\nfunction appendWeatherData(div: HTMLDivElement, weatherData: any) {\r\n  const name_span = document.createElement('span');\r\n  name_span.id = 'name';\r\n  name_span.innerHTML = weatherData.name;\r\n  div?.append(name_span);\r\n\r\n  const temp_span = document.createElement('span');\r\n  temp_span.id = 'temp';\r\n  temp_span.textContent = `Temperatura: ${(temp_span.innerHTML =\r\n    weatherData.main.temp)}\\xB0C`;\r\n\r\n  div?.append(temp_span);\r\n\r\n  const feels_like_span = document.createElement('span');\r\n  feels_like_span.id = 'feels_like';\r\n  feels_like_span.textContent = `Temperatura Odczuwalna: ${(feels_like_span.innerHTML =\r\n    weatherData.main.feels_like)}\\xB0C`;\r\n\r\n  div?.append(feels_like_span);\r\n\r\n  const temp_min_max_span = document.createElement('span');\r\n  temp_min_max_span.id = 'temp_min_max';\r\n  temp_min_max_span.textContent = `Temp min: ${(temp_min_max_span.innerHTML =\r\n    weatherData.main.temp_min)}\\xB0C | Temp max: ${(temp_min_max_span.innerHTML =\r\n    weatherData.main.temp_max)}\\xB0C`;\r\n  div?.append(temp_min_max_span);\r\n\r\n  const pressure_span = document.createElement('span');\r\n  pressure_span.id = 'pressure';\r\n  pressure_span.textContent = `Ciśnienie: ${(pressure_span.innerHTML =\r\n    weatherData.main.pressure)} hPa`;\r\n  div?.append(pressure_span);\r\n\r\n  const description_span = document.createElement('span');\r\n  description_span.id = 'description';\r\n  description_span.innerHTML = weatherData.weather[0].description;\r\n  div?.append(description_span);\r\n\r\n  const wind_dir = getWindDirection(weatherData);\r\n\r\n  const wind_span = document.createElement('span');\r\n  wind_span.id = 'wind';\r\n  wind_span.textContent = `Wiatr: ${(wind_span.innerHTML =\r\n    weatherData.wind.speed)} m/s | Kierunek: ${wind_dir}`;\r\n\r\n  div?.append(wind_span);\r\n\r\n  const clouds_span = document.createElement('span');\r\n  clouds_span.id = 'clouds';\r\n  clouds_span.textContent = `Zachmurzenie: ${(clouds_span.innerHTML =\r\n    weatherData.clouds.all)}%`;\r\n  div?.append(clouds_span);\r\n}\r\nfunction getWindDirection(weatherData: any) {\r\n  const wind_direction = weatherData.wind.deg;\r\n  var direction = '';\r\n  if (wind_direction >= 337.5 || wind_direction <= 22.5) {\r\n    direction = 'N';\r\n    return direction;\r\n  } else if (wind_direction <= 67.5) {\r\n    direction = 'NE';\r\n    return direction;\r\n  } else if (wind_direction <= 112.5) {\r\n    direction = 'E';\r\n    return direction;\r\n  } else if (wind_direction <= 157.5) {\r\n    direction = 'SE';\r\n    return direction;\r\n  } else if (wind_direction <= 202.5) {\r\n    direction = 'S';\r\n    return direction;\r\n  } else if (wind_direction <= 247.5) {\r\n    direction = 'SW';\r\n    return direction;\r\n  } else if (wind_direction <= 292.5) {\r\n    direction = 'W';\r\n    return direction;\r\n  } else if (wind_direction <= 337.5) {\r\n    direction = 'NW';\r\n    return direction;\r\n  }\r\n  return;\r\n}\r\n"]}